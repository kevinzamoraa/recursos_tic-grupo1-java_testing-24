<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Formulario Valoración</title>
    <th:replace th:replace="~{fragment/meta :: meta}"/>
</head>
<body>
<th:block th:replace="~{fragment/navbar :: navbar}"/>
<div class="container mt-4">

    <header>
        <h1 th:if="${user.id}">Editar usuario <span th:text="${user.id}"></span></h1>
        <h1 th:unless="${user.id}">Crear un nuevo usuario</h1>
    </header>

    <main>
        <form method="POST" th:object="${user}" th:action="@{/users}">
            <div>
                <label for="id">Id</label>
                <input type=hidden id="id" th:field="*{id}"/>
            </div>
            <div>
                <label for="name">Nombre</label>
                <input type="text" class="form-control" id="name" th:field="*{name}"/>
            </div>
            <div>
                <label for="email">Correo Electrónico</label>
                <input type="email" class="form-control" id="email" th:field="*{email}"/>
            </div>
            <div>
                <label for="username">Usuario</label>
                <input type="text" class="form-control" id="username" th:field="*{username}"/>
            </div>
            <div>
                <label for="password">Contraseña</label>
                <input type="password" class="form-control" id="password" th:field="*{password}"/>
            </div>
            <script th:inline="javascript">
                let password = /*[[${user.password}]]*/ '';
                document.getElementById('password').value = password;
            </script>

            <!--  <div>-->
            <!--    <label for="role">Selecciona un rol</label>-->
            <!--    <select id="role" th:field="*{role}">-->
            <!--      <option th:selected="${user.role == null}" value="        "></option>-->
            <!--      <option th:text="Autor" th:value="${userRole.AUTHOR}" ></option>-->
            <!--      <option th:text="Lector" th:value="${userRole.READER}" ></option>-->
            <!--      <option th:text="Admin" th:value="${userRole.ADMIN}" ></option>-->
            <!--    </select>-->
            <!--  </div>-->

            <button type="submit">Enviar</button>
        </form>
        <footer th:replace="~{fragment/footer :: footer}"></footer>
    </main>
</div>
</body>
</html>
